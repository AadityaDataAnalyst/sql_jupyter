#Codelab
# Automatically open these tabs in the sidebar
tabs: ["test.ipynb", "README.md"]

# Auto-run these terminal commands when the lab starts
terminals:
  [
    # Start MySQL service
    "sudo service mysql start",

    # Start Apache service
    "sudo service apache2 start",

    # Start Jupyter Notebook
    "export PATH=\"$HOME/.local/bin:$PATH\" && jupyter notebook --no-browser --port=1337 --ip=0.0.0.0 --NotebookApp.token='' --NotebookApp.password=''",

    # Create dummy database and table
    "sudo mysql -e \"CREATE DATABASE IF NOT EXISTS studentlab; USE studentlab; CREATE TABLE IF NOT EXISTS users (id INT AUTO_INCREMENT PRIMARY KEY, name VARCHAR(100), email VARCHAR(100)); INSERT INTO users (name, email) VALUES ('Alice', 'alice@example.com'), ('Bob', 'bob@example.com');\""
  ]

# Run button works for .py files only
run-button: |
  if [[ "$$file" == *.py ]]; then
    python3 "$$file"
  else
    echo "‚ùå Run button only works for .py files. Use the provided URLs to access Jupyter Notebook and phpMyAdmin."
  fi

# Optional: Link to phpMyAdmin
browser-link: https://occasionally-rough-1338.run-code.com
